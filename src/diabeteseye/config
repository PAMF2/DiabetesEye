"""Configuration for DiabetesEye CrewAI agent."""

import os
import logging
from pydantic_settings import BaseSettings, SettingsConfigDict
from pydantic import BaseModel, Field


class LLMSettings(BaseModel):
    """LLM configuration settings."""
    model: str = Field(default="gemini-2.0-flash", description="LLM model to use")
    preferred: str = Field(default="", description="Preferred LLM provider")
    allow_openai: bool = Field(default=False, description="Allow OpenAI as fallback")
    openai_api_key: str = Field(default="", description="OpenAI API key")


class Settings(BaseSettings):
    """Application settings."""

    # Gemini API settings
    gemini_model: str = "gemini-2.0-flash"
    google_api_key: str = ""

    # LLM settings
    llm: LLMSettings = LLMSettings()

    model_config = SettingsConfigDict(
        env_file=".env",
        env_file_encoding="utf-8",
        case_sensitive=False,
    )


# Create global config instance
config = Settings()